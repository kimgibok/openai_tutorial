from openai import OpenAI
from dotenv import load_dotenv
import os

# .env 파일에서 환경 변수를 로드합니다.
load_dotenv()

# 환경 변수를 사용하여 API 키를 불러옵니다.
openai_api_key = os.getenv("OPENAI_API_KEY")


client = OpenAI(api_key=openai_api_key)
MODEL = "gpt-4-vision-preview"

client = OpenAI()

response = client.chat.completions.create(
  model=MODEL,
  messages=[
    {
      "role": "user",
      "content": [
        {"type": "text", "text": "이 이미지는 무슨 내용이니?"},
        {
          "type": "image_url",
          "image_url": {
            "url": "data:image/jpeg;base64,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",
          },
        },
      ],
    }
  ],
  max_tokens=300,
)

print(response.choices[0])